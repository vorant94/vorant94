# [Мое турне по браузерам]: Safari

*В этом году я как-то заметил, что давно устаканившийся традиционный набор браузеров (Chrome, Firefox, Safari, Opera) начал разбавляться новым модным стильным молодежным поколением альтернатив. Лично я последние несколько лет время от времени прыгаю с Chrome на Safari и обратно (совсем иногда искося поглядываю на Firefox), но со стороны все сильнее доносятся отголоски всяческих Brave, Vivaldi, Edge, Arc, SigmaOS и так далее. И вот на волне того, что мне как-то поднаскучила визуально MacOS в целом и мой привычный Chrome/Safari браузер, я решил попробовать что-то новенькое и хотел бы этим с вами поделиться.*

---

## Вступление

Начну я, пожалуй, с браузера по умолчанию на MacOS, а не с Chrome (де-факто стандарт отрасли). И тому есть веская причина: так как я сам уже давно пользуюсь чуть ли не всей экосистемой Apple целиком, то привык к огромному количеству плюшек, которые возможны из-за взаимной и плотной интеграции разный яблочных девайсов/сервисов. То есть моя изначальная точка отсчета как пользователя - это именно такой вот опыт пользования единой системой, плавно перетекающей из ноутбука в сеть, из сети в телефон и дальше по направлению. И по-хорошему я считаю, что такова должна быть цель любого современного продукта: недостаточно исправно выполнять свою одну конкретную функцию (или несколько таковых), продукт должен умело интегрироваться в любую экосистему своего пользователя. При этом я понимаю, что отсутствие подобных плавных интеграций может быть проблемой "на той стороне" (разработчик условной программы и рад бы интегрироваться с чем-то, но это "что-то" просто не предоставляет такой возможности). Поэтому я не ставлю перед собой цели найти виновного, я хотел бы просто сформулировать свое видение. А что с этим делать дальше, я пока не придумал

## TouchID

Так вот, о каких интеграциях я говорю? Первое, что приходит на ум, - это TouchID, сканер отпечатка пальцев. Его в Safari можно использовать в целом ряде случаев: будь-то автозаполнение паролей только при условии проверки отпечатка, или оплата покупок через Apple Pay, или аутентификация на сайтах без ввода пароля (где есть функция Login via Apple). Тут все отлично настолько, что у разработчиков расширений для Safari есть доступ к TouchID. То есть такие сторонние программы как 1Password или же Bitwarden (обе программы это довольно популярные third-party менеджеры паролей) действительно могут интегрироваться так, что их пользователь не будет ощущать разницы между использованием их продукта или встроенных программ от Apple.

## Time Limit

Следующая интеграция, которой я не так часто на самом деле пользуюсь, но все же стоит упомянуть - это Time Limit. Я как пользователь могу мониторить и/или ограничивать количество проведенного мною времени в тех или иных приложениях. При этом учитывается общее время со всех устройств, то есть полчаса чтения новостей в Telegram-каналах на телефоне и того же самого с ноутбука суммируются в целый час лоботрясничества. На этом все могло бы и закончиться, если бы не одно но. Время залипания в самом Safari не учитывается, в Time Limit уходит статистика, разделенная по сайтам. То есть если у меня есть лимит на YouTube час в день, то, просидев час в видосах с телефона, я не смогу просто так зайти на сайт YouTube через Safari, что как по мне just makes sense ©️.

## Third-party приложения

Возвращаясь к теме third-party приложений MacOS. Есть целый пласт программ, которые или изначально пишутся исключительно под эту систему, или имеют смысл только в ее рамках. Я сейчас говорю о трех программах, которыми лично пользуюсь на ежедневной основе. Это Reeder 5 (RSS-читалка и агрегатор + Read Latter сервис), Alfred 5 (продвинутая альтернатива встроенному в MacOS Spotlight) и Things 3 (to-do трекер). Все эти программы отлично интегрируются с Safari: Reeder имеет расширение для добавления новых фидов прямо из браузера, а так же для использования его вместо Read Latter сервиса от Safari; Alfred сканирует закладки Safari и позволяет их открывать без лишних телодвижений; Things при добавлении новой записи через всплывающее окно понимает контекст и, если он вызван из окна браузера, вставляет в запись адрес и заголовок открытой вкладки.

## AirPlay/ChromeCast

Но ровно настолько, насколько Apple хороши в интеграции своих продуктов между собой, настолько они плохи в интеграции с продуктами вне яблочной экосистемы. Допустим, у вас есть smart-TV и вы хотите посмотреть там фильм с какого-нибудь сайта (нерелевантно, если вы пользуетесь одним из стриминговых сервисов по типу Netflix, у которых всегда есть свои приложения для smart-TV). Набирать поисковый запрос на пульте от тв - боль, подключать комп по проводу - тоже. На помощь приходит AirPlay - технология позволяющая транслировать музыку/видео с одного устройства на другое. Но есть один нюанс, AirPlay - это технология Apple, а значит "с одного устройства на другое" означает на самом деле "с одного устройства Apple на другое устройство Apple и никак иначе". А теперь вопрос: видели ли вы smart-TV от Apple? Ответ - нет. Есть консоль Apple TV, которая подключается к настоящему телевизору и делает его умным и яблочным одновременно. Но лично я не понимаю, зачем покупать консоль отдельно от телевизора, когда современные телевизоры уже выпускают со встроенным Android TV и при этом у них есть поддержка альтернативы AirPlay - ChromeCast (а эта технология куда универсальнее AirPlay в принципе). По итогу получается такая картина: при наличии сайта, который поддерживает ChromeCast, при наличии тв, который поддерживает ChromeCast, при наличии ноутбука, который поддерживает ChromeCast (MacOS сама по себе таки поддерживает эту технологию) пользователь все равно не может транслировать медиа из сети сразу на тв, потому что Safari...

## Hide My Email

Касательно яблочных сервисов проблемы не заканчиваются на попытках интеграции устройств Apple с внешним миром. В подписку iCloud+ с недавнего времени входит возможность автоматической генерации виртуальных email-адресов для регистрации на различных сайтах. Это отлично работает как инструмент превентивной борьбы со спамом. Типичный сценарий такой: пользователь во время регистрации на каком-то непонятном сайте указывает сгенерированную почту, Apple заботится о доставке писем с этой виртуальной почты на реальную, а в случае, если этот непонятный сайт взломают или он сам продаст базу своих пользователей какой-то спам-рассылке, у пользователя будет возможность отключить виртуальный адрес и не захламлять почту реального спамом. Вот только одно "но"... Судя по моему Bitwarden у меня уже есть 100+ всяческих аккаунтов на просторах Интернета, а значит мой реальный адрес уже утек куда только можно было утечь. То есть на данном этапе реальной пользы от этого сервиса ноль, а вот вред очень даже имеется. Если я начну им пользоваться и в будущем передумаю платить на iCloud+, что будет со всеми моими аккаунтами, которые были зарегестрированы на виртуальные почтовые адреса?

Можно было бы сказать "Ну ок, не надо - не пользуйся, в чем проблема?". Но это же Apple, а значит они решают за пользователя, что тому нужно, а что нет. До введения этого сервиса при регистрации на сайтах Safari предлагала заполнить поле email адресом, на который зарегистрирован мой Apple ID, и это было удобно даже с учетом того, что пароли я генерирую через Bitwarden. А вот после введения этого сервиса, Safari предлагает ввести только новый виртуальный адрес и все, нет возможности вернуть как было. Это называется агрессивный маркетинг и отключение привычного функционала с целью того, чтобы склонить пользователя к выгодному самой фирме решению.

## Расширения браузера

Дальше - больше. Так как Safari - браузер сам по себе, а не базируется на Chrome (как многие современные решения), то разработчики должны отдельно писать под него версии своих расширений, что означает, что далеко не все этим будут заниматься. Я не пользуюсь таким большим количеством расширений как некоторые, поэтому в моем случае это не так больно. Единственным расширением, которого лично мне не хватает в Safari, но которое есть в Chrome, - это крипто-кошелек Metamask. Но так я до сих пор так и не вкатился нормально в крипту, то даже это не критично.

## Поддержка сайтами

В продолжение того, что Safari не основывается на Chrome, стоит упомянуть, что это влияет не только на разработчиков расширений, но и на разработчиков сайтов. Из-за популярности Chrome все сайты в первую очередь проверяют на работоспособность именно в нем, а вот проверять сайт в Safari могут и забыть. В это трудно поверить, но даже всего лишь год назад, я реально сталкивался с тем, как сайты или глючат или просто не работают вне Chrome. И это не был сайт какого-то Васи Пупкина, это был онлайн магазин PlayStation Network...

## Распознавание URL-адресов

Это относительно мелочь, но так сложилось, что эта мелочь мне часто и очень сильно мозолит глаза. Суть в том, что в любом современном браузере адресная строка занимает помимо своей обычной роли (переадресовывать пользователя по введенному им адресу) еще и функцию поисковой строки. То есть если введенные данные не удалось распознать распознать как URL-адрес она отправляет пользователя в поисковик, а введенные данные теперь служат поисковым запросом. Так вот, у меня дома стоит Raspberry Pi с парой-тройкой локальных сервисов и настроенным локальным DNS, чтобы можно было достучаться до малинки не только по ее IP, но и по адресу pi.lan. И вот если в Chrome при вводе pi.lan браузер понимает, что я подразумевал адрес сайта, то Safari отправляет меня гуглить, что же такое это ваше pi.lan... Только в случае, если я напишу pi.lan/ (со слэшем в конце), тогда Safari все распознает правильно и переадресовывает меня на малинку. Я искренне не понимаю эту особенность, потому что обычные адреса по типу fb.com Safari распознает и без слэша в конце, что приводит к постоянной путанице, когда в 99% случаев пользователь пишет как обычно, но в 1% случаев он обязан добавлять слэш в конце...

## Инструменты разработчика

И последнее, о чем хотелось упомянуть, хотя это скорее уже мой личный каприз, так это инструменты разработчика. Суть в том, что в виду моей профессии браузер для меня это одновременно и просто программа для серфинга сети и инструмент заработка. Если Chrome - это стандарт отрасти программ для серфинга сети, то Chrome dev-tools - это стандарт инструментов для разработки сайтов. Допустим мне нравится Safari как программа для серфинга, но это не означает, что я и работать в нем хочу. Иметь на ноутбуке сразу два браузера и разделять между ними функции - вполне себе решение, но мне кажется мы упускаем суть. С одной стороны понятно и очевидно, почему в Safari нет Chrome dev-tools (опять же по причине того, что Safari не базируется на Chrome), с другой - мне как пользователю неинтересны эти технические перипетии. Я был бы рад, если бы мои "программа для серфинга" и "инструмент заработка" были хорошо интегрированными, но разными программами. Было бы круто использовать Chrome dev-tools в Safari или же Safari dev-tools в Chrome (Боже упаси, но все же)

## Итог

#### Плюсы:

- идеальная интеграция с технологиями MacOS
  - TouchID
  - AirPlay
- идеальная интеграция с сервисами Apple
  - Apple Pay
  - Time Limit
  - Hide My Email
- хорошая интеграция со сторонними программами
  - Reeder 5 (в виде расширения)
  - Alfred 5
  - Things 3
  - 1Password (в виде расширения)
  - Bitwarden (в виде расширения)

#### Минусы:

- отсутствие интеграций с технологиями вне Apple
  - ChromeCast
- слишком агрессивный маркетинг сервисов Apple в случае, когда пользователь не хочет пользоваться некоторыми из них
  - Hide My Email
- куда более бедный выбор расширений для браузера
  - MetaMask
- нет возможности избирательно использовать встроенные возможности браузера или же полностью их заменять на сторонние решения
  - инструменты разработчика Chrome вместо встроенных от Safari
  - менеджер паролей не в виде расширения, а как "нативная" замена встроенному Autofill
  - то же самое, что и выше, но с read latter программами
- не все сайты могут корректно работать в Safari
  - PlayStation Network
- странная избирательность при распознавании строки ввода как URL-адреса
